import{f as m,c as g,b,a as t,w as a,r,o as w,d as V,u as x,e as v}from"./index-BrkTj9za.js";import{l as y}from"./requests-BJ8Q--BS.js";const N={class:"login_wrap"},h={class:"form_wrap"},S={__name:"login",setup(k){const d=x(),i=v(),e=m({username:"",password:""}),p=m({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度应该为3-10",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度应该为3-10",trigger:"blur"}]}),_=()=>{y(e).then(s=>{s.data&&(d.commit("uinfo/setuinfo",s.data),localStorage.setItem("localdata",JSON.stringify(s.data)),i.push({path:"/user"}))})};return(s,o)=>{const n=r("el-input"),u=r("el-form-item"),c=r("el-form"),f=r("el-button");return w(),g("div",N,[b("div",h,[t(c,{model:e,"label-width":"auto",rules:p},{default:a(()=>[t(u,{label:"用户名",prop:"username"},{default:a(()=>[t(n,{modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=l=>e.username=l)},null,8,["modelValue"])]),_:1}),t(u,{label:"密码",prop:"password"},{default:a(()=>[t(n,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=l=>e.password=l),type:"password"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(f,{type:"primary",class:"login_btn",onClick:_},{default:a(()=>o[2]||(o[2]=[V("登录")])),_:1})])])}}};export{S as default};
